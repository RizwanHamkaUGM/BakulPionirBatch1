<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/png" href="favicon.png">
    <title>Form Batch2 Bakul Pionir</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="css/clash-grotesk.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-storage.js"></script>

</head>

<body>

    <div id="particle-container"></div> <div class="title">
        <img src="bunga.png" alt="" hidden>
    </div>

    <div class="title">
        <img src="BAKULPIONIR.png" alt="">
    </div>

    <div class="card">
        <p class="judul-card">isi nama kamu dulu</p>
        <input type="text" id="namaInput" class="deskripsi-singkat" placeholder="Isi nama kamu disini" required>
    </div>
    
    <div class="card">
        <p class="judul-card">Masukkan nomor WA yang aktif ya</p>
        <input type="tel" id="nomorInput" class="deskripsi-singkat" placeholder="Isi nomor wa kamu disini" required>
    </div>

    <div class="card">
        <p class="judul-card">Kamu dari fakultas apa nih?</p>
        <div class="dropdown-container">
            <select id="fakultas" name="fakultas" class="select-dropdown">
                <option value="" disabled selected>Pilih Fakultas Kebanggaanmu :D</option>
                <option value="faperta">Fakultas Pertanian</option>
                <option value="ftp">Fakultas Teknologi Pertanian</option>
                <option value="fgeo">Fakultas Geografi</option>
                <option value="fkh">Fakultas Kedokteran Hewan</option>
                <option value="ft">Fakultas Teknik</option>
                <option value="fisipol">Fakultas Ilmu Sosial dan Ilmu Politik</option>
                <option value="feb">Fakultas Ekonomika dan Bisnis</option>
                <option value="fh">Fakultas Hukum</option>
                <option value="fbs">Fakultas Biologi</option>
                <option value="farmasi">Fakultas Farmasi</option>
                <option value="fkg">Fakultas Kedokteran Gigi</option>
                <option value="fkkmk">Fakultas Kedokteran, Kesehatan Masyarakat, dan Keperawatan</option>
                <option value="fsp">Fakultas Psikologi</option>
                <option value="filsafat">Fakultas Filsafat</option>
                <option value="fk">Fakultas Kehutanan</option>
                <option value="fib">Fakultas Ilmu Budaya</option>
                <option value="fapet">Fakultas Peternakan</option>
                <option value="fmipa">Fakultas Matematika dan Ilmu Pengetahuan Alam</option>
                <option value="sv">Sekolah Vokasi</option>
            </select>
        </div>
    </select>
        </form>
    </div>

    <div class="card">
        <p class="judul-card">Isi domisili kotamu ya!</p>
        <input type="text" id="domisiliInput" class="deskripsi-singkat" placeholder="Isi Domisili kamu disini" required>
    </div>

    <div class="card">
        <p class="judul-card">isi dulu username Instagram kamu, ya!</p>
        <input type="text" id="instagramInput" class="deskripsi-singkat" placeholder="Isi username ig kamu disini" required>
    </div>

    <div class="card">
        <p class="judul-card cardes" >Yuk pilih produk yang kamu mau! <br> <a href="/katalog"  class="katalogBtn">Cek Katalog Disini</a></p>
        
        <div class="checkbox-container-carde">
            <div class="carde">
                <img src="imageBundle/BUNDLESULTANSEJATI.png" alt="Bundle Sultan Sejati">
                <label for="bundleSultan" class="carde-text">Bundle Sultan(85K)</label>
                <div class="checkbox-wrapper">
                    <input type="checkbox" id="bundleSultan" name="produk" value="Bundle Sultan Sejati">
                </div>
            </div>
            
            <div class="carde">
                <img src="imageBundle/BUNDLESTYLISH.png" alt="Bundle Stylish">
                <label for="bundleStylish" class="carde-text">Bundle Stylish (75K)</label>
                <div class="checkbox-wrapper">
                    <input type="checkbox" id="bundleStylish" name="produk" value="Bundle Stylish">
                </div>
            </div>

                
            <div class="carde">
                <img src="imageBundle/BUNDLEPAKETLENGKAP.png" alt="Bundle Paket Lengkap">
                <label for="bundleLengkap" class="carde-text">Bundle Paket Lengkap (60K)</label>
                <div class="checkbox-wrapper">
                    <input type="checkbox" id="bundleLengkap" name="produk" value="Bundle Paket Lengkap">
                </div>
            </div>
            
            <div class="carde">
                <img src="imageBundle/BUNDLEEKSEKUTIFPIONIR.png" alt="Bundle eks">
                <label for="bundleEksekutifPionir" class="carde-text">Bundle Eksekutif(40K)</label>
                <div class="checkbox-wrapper">
                    <input type="checkbox" id="bundleEksekutifPionir" name="produk" value="bundle Eksekutif Pionir">
                </div>
            </div>
            
            <div class="carde">
                <img src="imageBundle/BUNDLESTARTER.png" alt="Bundle eks">
                <label for="bundleStarter" class="carde-text">Bundle Starter (45K)</label>
                <div class="checkbox-wrapper">
                    <input type="checkbox" id="bundleStarter" name="produk" value="bundle Starter">
                </div>
            </div>

            <div class="carde">
                <img src="imageBundle/BUNDLEPEJUANGHEMAT.png" alt="Bundle eks">
                <label for="bundlePejuangHemat" class="carde-text">Bundle Pejuang (35K)</label>
                <div class="checkbox-wrapper">
                    <input type="checkbox" id="bundlePejuangHemat" name="produk" value="bundle Pejuang">
                </div>
            </div>

            <div class="carde">
                <img src="imageBundle/CAPING.png" alt="Bundle eks">
                <label for="caping" class="carde-text">Caping Warna (30K)</label>
                <div class="checkbox-wrapper">
                    <input type="checkbox" id="caping" name="produk" value="bundle Pejuang">
                </div>
            </div>
            <div class="carde">
                <img src="imageBundle/CAPING.png" alt="Bundle eks">
                <label for="capingPolos" class="carde-text">Caping Polos (27K)</label>
                <div class="checkbox-wrapper">
                    <input type="checkbox" id="capingPolos" name="produk" value="bundle Pejuang">
                </div>
            </div>

            <div class="carde">
                <img src="imageBundle/LANYARD.png" alt="Bundle eks">
                <label for="lanyard" class="carde-text">Lanyard (22K)</label>
                <div class="checkbox-wrapper">
                    <input type="checkbox" id="lanyard" name="produk" value="bundle Pejuang">
                </div>
            </div>

            <div class="carde">
                <img src="imageBundle/DASI.png" alt="Bundle eks">
                <label for="dasi" class="carde-text">Dasi (17K)</label>
                <div class="checkbox-wrapper">
                    <input type="checkbox" id="dasi" name="produk" value="bundle Pejuang">
                </div>
            </div>
            <div class="carde">
                <img src="imageBundle/TOTEBAG.png" alt="Bundle eks">
                <label for="totebag" class="carde-text">Totebag (45K)</label>
                <div class="checkbox-wrapper">
                    <input type="checkbox" id="totebag" name="produk" value="bundle Pejuang">
                </div>
            </div>
            <div class="carde">
                <img src="imageBundle/STICKER.png" alt="Bundle eks">
                <label for="sticker" class="carde-text">Sticker (8K)</label>
                <div class="checkbox-wrapper">
                    <input type="checkbox" id="sticker" name="produk" value="bundle Pejuang">
                </div>
            </div>
        </div>
    </div>

    <div class="card">
        <p class="judul-card">Punya Kode Referral?</p>
        
        <div id="referralContainer">
            <input type="text" id="referralInput" class="deskripsi-singkat" placeholder="Masukkan kode di sini" style="color: white !important; margin: 0 !important;">
            <button id="checkReferralBtn">Gunakan Kode</button>
        </div>
        
        <p id="referralStatus"></p> 
    </div>

    <div class="card" id="invoiceCard">
        <p class="judul-card">Ringkasan Pesanan Kamu</p>
    
        <div class="invoice-container">
            <div class="invoice-header">
                <p>Rincian Produk</p>
            </div>

            <div id="invoiceItems">
                <p class="isi-card" style="color: #6c757d; text-align: center; padding: 20px 0;">
                    Belum ada produk yang dipilih
                </p>
            </div>

            <div class="invoice-total">
                <p class="total-label">Total Pembayaran</p>
                <p class="total-amount">
                    Rp <span id="totalBayar" style="color: #3d52a0;">0</span>
                </p>
            </div>
        </div>
    </div>

    <div class="card">
        <p class="judul-card">Upload Bukti Pembayaran</p>
        <p class="isi-card" style="font-weight: 900; text-decoration: underline; color: black;">FORMAT FILE YANG DIIZINKAN: JPG, PNG, JPEG. UKURAN MAKSIMAL 2MB</p>
    
        <div class="payment-info">
            <div class="info-pembayaran-container">

                <div class="instruksi-item">
                    <div class="instruksi-icon">🔢</div>
                    <div class="instruksi-teks">
                        <strong>Jumlah Transfer</strong>
                        <p>
                            Untuk verifikasi otomatis, harap tambahkan kode unik <strong>001</strong> di akhir total pembayaran Anda.
                            <br>
                            <span>Contoh: Jika total Rp 41.000, transfer Rp <strong>41.001</strong></span>
                        </p>
                    </div>
                </div>
            
                <div class="instruksi-item">
                    <div class="instruksi-icon">📤</div>
                    <div class="instruksi-teks">
                        <strong>Format Nama File Bukti Transfer</strong>
                        <p>
                            Gunakan format <strong>Nama_Pembelian</strong> untuk mempercepat proses verifikasi.
                            <br>
                            <span>Contoh: <strong>Zidan_BundlingKroco</strong></span>
                        </p>
                    </div>
                </div>
            
                <p class="metode-pembayaran-label">
                    Metode Pembayaran yang Tersedia:
                </p>
            
            </div>
        </div>
    
        <button type="button" class="collapsible">
            BNI
        </button>
        <div class="content">
            <p>Nomor Rekening: <strong>1130388177</strong></p>
            <p>Atas Nama: <strong>Karina Damayora</strong></p>
        </div>
    
        <button type="button" class="collapsible">
            Gopay
        </button>
        <div class="content">
            <p>Nomor Gopay: <strong>081391675760</strong></p>
            <p>Atas Nama: <strong>Bagas S</strong></p>
        </div>
    
        <button type="button" class="collapsible">
            ShopeePay
        </button>
        <div class="content">
            <p>Nomor ShopeePay: <strong>08882347574</strong></p>
            <p>Atas Nama: <strong>zahirzidane</strong></p>
        </div>
        
        <button type="button" class="collapsible">
            QRIS
        </button>
        <div class="content">
            <img class="imageQris" src="Qris/qris_bakulPionir.png" alt="QRIS Code">
            <a href="Qris/qris_bakulPionir.png" download="QRIS_BakulPionir" class="download-button">
                <span class="icon">📥</span> Unduh QRIS
            </a>
        </div>
    
        <input type="file" id="buktiBayarInput" class="input-file" accept="image/jpeg, image/png, image/jpg" required>
        <label for="buktiBayarInput" class="custom-file-label" id="fileLabel">
            <span class="icon">📁</span>
            <span class="text">Pilih file kamu!</span>
        </label>
    </div>

    <div class="card" id="submitCard"  style="cursor: pointer; text-align: center; background-color: #ffcc00; padding: 15px; font-weight: bold;">
        <p class="judul-card">Klik untuk Kirim Pesanan!</p>
    </div>

    <div class="ender">
        <!-- <img src="tesBanner.png" alt=""> -->
    </div>

    <div id="errorPopup" class="popup-error">
        <p id="errorMessage">Harap isi semua data dan unggah bukti pembayaran.</p>
        <button onclick="closeErrorPopup()">Tutup</button>
    </div>

    <div id="successPopup" class="popup-success">
        <p>Pesanan berhasil dikirim!</p>
        <p>Gabung ke grup WhatsApp untuk info lebih lanjut:</p>
        <p id="waLink"></p> <!-- Paragraf kosong untuk link WA -->
        <button onclick="closeSuccessPopup()">Tutup</button>
    </div>

    <div id="loadingOverlay" class="loading-overlay">
        <div class="spinner"></div>
        <p style="color: white; font-weight: bold; margin-top: 10px; font-family: 'Montserrat', sans-serif;">Mengirim Pesanan...</p>
    </div>
    

    <script type="module">
        // Ganti dengan konfigurasi Firebase milikmu
        // TAMBAHKAN 'collection' dan 'getDocs' pada baris import di bawah ini
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
        import { getFirestore, doc, setDoc, serverTimestamp, collection, getDocs } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";
        const firebaseConfig = {
            apiKey: "AIzaSyCqGTr_7aEWgbV2eZ4XG4qW6GBpZ1xwFhU",
            authDomain: "bakul-pionir.firebaseapp.com",
            projectId: "bakul-pionir",
            storageBucket: "bakul-pionir.firebasestorage.app",
            messagingSenderId: "472630969608",
            appId: "1:472630969608:web:835bcb517c264f5392d8bd"
        };

        // Inisialisasi Firebase
        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);

        // Simpan db ke global agar bisa dipakai di script.js
        window.db = db;
        window.doc = doc;
        window.setDoc = setDoc;
        window.serverTimestamp = serverTimestamp;
        // TAMBAHKAN DUA BARIS DI BAWAH INI
        window.collection = collection;
        window.getDocs = getDocs;
    </script>
    <script src="script.js"></script>
</body>

</html>
